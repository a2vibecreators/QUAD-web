# QUAD Platform - PROD Environment Variables (Example)
#
# Purpose: Template for production environment variables
# Usage: Secrets are fetched on-the-fly from Vaultwarden during deployment
#
# IMPORTANT: This file is NOT used during deployment!
# Secrets are fetched from Vaultwarden (QUAD org → prod collection)
# This is just a reference template showing what secrets are needed.
#
# Last Updated: January 5, 2026

# NextAuth Configuration
# Source: Vaultwarden → QUAD org → prod → "NextAuth Secret"
NEXTAUTH_SECRET=<from_vaultwarden>
NEXTAUTH_URL=https://quadframe.work

# Database Configuration - PROD
# Source: Vaultwarden → QUAD org → prod → "Database"
# Uses Cloud SQL instance: nutrinine-prod:us-east1:nutrinine-db
DB_HOST=/cloudsql/nutrinine-prod:us-east1:nutrinine-db
DB_NAME=quad_prod_db
DB_USER=<from_vaultwarden>
DB_PASSWORD=<from_vaultwarden>
DATABASE_URL=postgresql://<user>:<password>@/<database>?host=/cloudsql/nutrinine-prod:us-east1:nutrinine-db

# Java Backend API - PROD
# Will be deployed to Cloud Run at this URL
QUAD_API_URL=https://api.quadframe.work

# Google OAuth
# Source: Vaultwarden → QUAD org → prod → "Google OAuth"
GOOGLE_CLIENT_ID=<from_vaultwarden>
GOOGLE_CLIENT_SECRET=<from_vaultwarden>

# GitHub OAuth (if configured)
# Source: Vaultwarden → QUAD org → prod → "GitHub OAuth"
GITHUB_CLIENT_ID=<from_vaultwarden>
GITHUB_CLIENT_SECRET=<from_vaultwarden>

# AI Provider Keys
# Source: Vaultwarden → QUAD org → prod → "Anthropic API Key"
ANTHROPIC_API_KEY=<from_vaultwarden>

# Source: Vaultwarden → QUAD org → prod → "Google Gemini API Key"
GEMINI_API_KEY=<from_vaultwarden>

# Environment Identifier
NODE_ENV=production
QUAD_ENV=prod

# =============================================================================
# Deployment Command (Auto-fetches all secrets)
# =============================================================================
#
# 1. Unlock Vaultwarden:
#    export BW_SESSION=$(bw unlock --raw)
#
# 2. Deploy to GCP Cloud Run:
#    cd quad-web
#    ./deployment/scripts/deploy.sh prod
#
# The script will:
# - Fetch all secrets from Vaultwarden
# - Build Docker image
# - Push to GCP Artifact Registry (gcr.io/nutrinine-prod/quad-web:latest)
# - Deploy to Cloud Run (quad-web-prod service)
# - Configure Cloud SQL connection
# - Set all environment variables
#
# =============================================================================
